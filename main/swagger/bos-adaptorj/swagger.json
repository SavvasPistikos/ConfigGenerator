{
  "swagger" : "2.0",
  "info" : {
    "description" : "The API documentation of L10 Bos Adaptor service",
    "version" : "1.0.0",
    "title" : "L10 Bos Adaptor",
    "contact" : {
      "name" : "users@cxf.apache.org"
    }
  },
  "basePath" : "/api/v1.0",
  "tags" : [ {
    "name" : "Unclaimed jackpot prizes"
  }, {
    "name" : "Settlements"
  } ],
  "paths" : {
    "/unclaimed-prizes/jackpot" : {
      "get" : {
        "tags" : [ "Unclaimed jackpot prizes" ],
        "summary" : "Retrieve unclaimed jackpot prizes",
        "description" : "\n Possible error codes:\n\n| *HTTP*| *Code*|                *Description*                             |\n|-------|-------|----------------------------------------------------------|\n|500|\t 10050  |\tSQL Error                 |\n| 500|\t 25  |\tSystem Error                 |\n| 500|\t 36  |\tRest Client Connection Timeout Error                 |\n|500|\t 37  |\tRest Client Unable to Connect                 |\n|",
        "operationId" : "getUnclaimedJackpotPrizes",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "Guid",
          "in" : "header",
          "description" : "Unique request GUID identifier",
          "required" : false,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "SUCCESS",
            "schema" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/UnclaimedJackpotPrizes"
              }
            }
          },
          "400" : {
            "description" : "VALIDATION ERROR",
            "schema" : {
              "$ref" : "#/definitions/FaultInfo"
            }
          },
          "401" : {
            "description" : "AUTHENTICATION ERROR",
            "schema" : {
              "$ref" : "#/definitions/FaultInfo"
            }
          },
          "500" : {
            "description" : "APPLICATION ERROR",
            "schema" : {
              "$ref" : "#/definitions/FaultInfo"
            }
          }
        }
      }
    },
    "/settlements" : {
      "get" : {
        "tags" : [ "Settlements" ],
        "summary" : "Used for retrieving winning information of wagers",
        "description" : "\n Possible error codes:\n\n| *HTTP*| *Code*|                *Description*                             |\n|-------|-------|----------------------------------------------------------|\n|500|\t 10050  |\tSQL Error                 |\n| 500|\t 25  |\tSystem Error                 |\n| 500|\t 36  |\tRest Client Connection Timeout Error                 |\n|500|\t 37  |\tRest Client Unable to Connect                 |\n|",
        "operationId" : "getSettlements",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "Guid",
          "in" : "header",
          "description" : "Unique request GUID identifier",
          "required" : false,
          "type" : "string"
        }, {
          "name" : "gameId",
          "in" : "query",
          "description" : "Game Id",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "drawId",
          "in" : "query",
          "description" : "Draw Id",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "The requested page of results. 0 is the first page",
          "required" : true,
          "type" : "integer",
          "format" : "int32"
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "Size of results in a single response",
          "required" : true,
          "type" : "integer",
          "format" : "int32"
        }, {
          "name" : "version",
          "in" : "query",
          "description" : "Validation version",
          "required" : true,
          "type" : "integer",
          "format" : "int32"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "$ref" : "#/definitions/WinningsModel"
            }
          },
          "304" : {
            "description" : "Not Modified"
          },
          "400" : {
            "description" : "Validation Error",
            "schema" : {
              "$ref" : "#/definitions/FaultInfo"
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "schema" : {
              "$ref" : "#/definitions/FaultInfo"
            }
          },
          "500" : {
            "description" : "Application Error",
            "schema" : {
              "$ref" : "#/definitions/FaultInfo"
            }
          },
          "502" : {
            "description" : "Bad Gateway"
          },
          "503" : {
            "description" : "Service Unavailable"
          }
        }
      }
    }
  },
  "definitions" : {
    "UnclaimedJackpotPrizes" : {
      "type" : "object",
      "properties" : {
        "gameId" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "Game id"
        },
        "drawDate" : {
          "type" : "string",
          "description" : "Draw date in ISO 8601 format"
        },
        "sellingRetailer" : {
          "type" : "string",
          "description" : "Selling retailer address"
        },
        "amount" : {
          "type" : "number",
          "description" : "Prize amount"
        }
      }
    },
    "FaultInfo" : {
      "type" : "object",
      "properties" : {
        "code" : {
          "type" : "integer",
          "format" : "int32",
          "description" : "The error code"
        },
        "message" : {
          "type" : "string",
          "description" : "The error message"
        },
        "data" : {
          "type" : "array",
          "description" : "The error data which is an abstract object that may be used to provide any error metadata",
          "items" : {
            "type" : "object"
          }
        },
        "source" : {
          "type" : "string",
          "description" : "The application at which the API error occured"
        },
        "type" : {
          "type" : "string",
          "description" : "The error family, e.g. RUNTIME, VALIDATION, etc"
        },
        "guid" : {
          "type" : "string",
          "description" : "The unique identifier of the error process"
        }
      },
      "description" : "The FaultInfo object contains all the details assosiated with an API error"
    },
    "WagerWinningsModel" : {
      "type" : "object",
      "properties" : {
        "amounts" : {
          "description" : "Amounts",
          "$ref" : "#/definitions/WinningsAmountsModel"
        },
        "drawId" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "Draw id"
        },
        "gameId" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "Game id"
        },
        "playerId" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "Player id"
        },
        "serialNumber" : {
          "type" : "string",
          "description" : "Serial number"
        },
        "status" : {
          "type" : "string",
          "description" : "Win,NoWin",
          "enum" : [ "Win", "NoWin" ]
        },
        "subTier" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "The winning sub category, needed for some games"
        },
        "tier" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "The winning category"
        }
      }
    },
    "WinningsAmountsModel" : {
      "type" : "object",
      "properties" : {
        "gross" : {
          "type" : "number",
          "description" : "Gross amount in money units"
        },
        "net" : {
          "type" : "number",
          "description" : "Net amount in money units"
        },
        "other" : {
          "type" : "number",
          "description" : "Future use"
        },
        "refund" : {
          "type" : "number",
          "description" : "Refund amount in money units. Future use"
        },
        "tax" : {
          "type" : "number",
          "description" : "Taxation amount in money units"
        }
      }
    },
    "WinningsModel" : {
      "type" : "object",
      "properties" : {
        "total" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "Total wagers"
        },
        "totalPages" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "Total pages"
        },
        "wagers" : {
          "type" : "array",
          "description" : "Wagers",
          "items" : {
            "$ref" : "#/definitions/WagerWinningsModel"
          }
        }
      }
    }
  }
}